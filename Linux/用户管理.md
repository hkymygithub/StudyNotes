# 用户管理

### 基本操作

#### 添加用户

```bash
useradd 用户名 #添加用户后会自动在/home目录下创建与用户同名的家目录。添加用户后会自动在/home目录下创建与用户同名的家目录
useradd -d /指定目录 用户名 #添加用户并在指定目录创建用户家目录
useradd -g 用户组 用户名 #添加一个用户并指定组
```

#### 设置密码

```bash
passwd 用户名
```

#### 删除用户

```bash
userdel 用户名 #删除用户，但保留家目录
userdel -r 用户名 #删除用户，同时删除家目录
```

#### 改变用户初始家目录

```
usermod -d 目录名 用户名
#该用户要有进入新目录的权限
```

#### 查询用户信息

```bash
id 用户名
```

#### 查看当前用户

```bash
whoami/who am i
```

#### 切换用户

```bash
su - 用户名
```

#### 用户注销

```bash
logout #注销
```

### 用户组

系统可以对有共性的多个用户进行统一管理。

Linux中每一个用户都必须属于一个组。每一个文件有所有者 、所在组、其他组的概念。

#### 添加组

```bash
groupadd 用户组
```

#### 删除组

```bash
groupdel 用户组
```

#### 修改用户的组

```bash
usermod -g 用户组 用户名
```

#### 用户和组相关文件

1. /etc/passwd文件

   用户的配置文件，记录用户的各种信息。

   每行的含义：用户名：口令：用户标识号：组标识号：注释性描述：主目录：登录Shell

2. /etc/shadow文件

   口令配置文件

   每行含义：登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志

3. /etc/group文件

   组配置文件

   每行含义：组名：口令：组标识号：组内用户列表

#### 文件权限

```
#查看文件所有者
ls -ahl

#修改文件所有者
chown 用户名 文件名

#修改文件所在的组
chgrp 组名 文件名
```

