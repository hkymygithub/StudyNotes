#  磁盘分区

### boot分区

引导分区

### swap分区

用于零时充当内存，一般与实际内存大小相同。文件系统为swap。

### 根分区

存放文件，软件

###  查看分区挂载

```
lsblk
```

### 创建分区

```
fdisk
```

### 格式化磁盘（创建文件系统）

```
#     文件类型    分区名
mkfs -t ext4 /dev/sdb1
```

### 挂载目录（命令行挂载重启后失效）

```
#        分区名    目录名
mount /dev/sdb1 /newdisk
```

### 卸载目录

```
#       磁盘分区名 或 目录名
umount /dev/sdb1
```

### 永久挂载

```
#编辑 /etc/fstab 文件
vim /etc/fstab
#使硬盘立即生效
mount -a
```

### 查询真题磁盘使用情况

```
df -h
```

### 查询指定目录磁盘占用情况

```
du -h /目录
```

| 选项          | 描述                   |
| ------------- | ---------------------- |
| -s            | 指定目录占用大小汇总   |
| -h            | 带计量单位             |
| -a            | 含文件                 |
| --max-depth=1 | 子目录深度             |
| -c            | 列出明细同时怎加汇总值 |

### 磁盘实用指令

 

```
#统计opt目录下文件的个数
ls -l /opt | grep "^-" | wc -l
#统计opt目录下目录的个数
ls -l /opt | grep "^d" | wc -l
#统计opt目录下文件的个数，包括子目录
ls -lR /opt | grep "^-" | wc -l
#统计opt目录下目录的个数，包括子目录
ls -lR /opt | grep "^d" | wc -l
```

